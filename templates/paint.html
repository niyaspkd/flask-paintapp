<!DOCTYPE html>
<html>
	<head>
		<title> A Simple Paint Application </title>
		 
	</head>

	<body>
		<canvas id="canvas" width="985" height="425" style="background-color:white;border: 5px solid #666666"></canvas><br>
		
               
		<div id='radio'>
                <label>
		
		<input id='reset' type='button' value='Reset'>

		<input id='line' type='button' value='Line'>

		<input id='rect' type='button' value='Rectangle'>			
		<input id='circle' type='button' value='Circle'>
		

		<input id='pencil' type='button' value='Pencil'>

		<input id='erase' type='button' value='Erase'>
						
		Width <select id='width'>
                <option value='1' selected> 1 </option>
                <option value='2'> 2 </option>
                <option value='3'> 3 </option>
                <option value='4'> 4 </option>
                <option value='5'> 5 </option>
		</select>	
                </label>
		

		
                

		
		
		
	
                	
		<br>
		<input id='stroke' name='filling' type='radio' value='0'/> Stroke

		<input type='button' onclick = "color('#0000ff')" style ="width:20px;height:20px;background-color:#0000ff">
		<input type='button' onclick = "color('#009fff')" style ="width:20px;height:20px;background-color:#009fff">
		<input type='button' onclick = "color('#0fffff')" style ="width:20px;height:20px;background-color:#0fffff">
		<input type='button' onclick = "color('#bfffff')" style ="width:20px;height:20px;background-color:#bfffff">
		<input type='button' onclick = "color('#000000')" style ="width:20px;height:20px;background-color:#000000">
		<input type='button' onclick = "color('#333333')" style ="width:20px;height:20px;background-color:#333333">
		<input type='button' onclick = "color('#666666')" style ="width:20px;height:20px;background-color:#666666">
		<input type='button' onclick = "color('#999999')" style ="width:20px;height:20px;background-color:#999999">
		<input type='button' onclick = "color('#ffcc66')" style ="width:20px;height:20px;background-color:#ffcc66">
		<input type='button' onclick = "color('#ffcc00')" style ="width:20px;height:20px;background-color:#ffcc00">
		<input type='button' onclick = "color('#ffff00')" style ="width:20px;height:20px;background-color:#ffff00">
		<input type='button' onclick = "color('#ffff99')" style ="width:20px;height:20px;background-color:#ffff99">
		<input type='button' onclick = "color('#003300')" style ="width:20px;height:20px;background-color:#003300">
		<input type='button' onclick = "color('#555000')" style ="width:20px;height:20px;background-color:#555000">
		<input type='button' onclick = "color('#00ff00')" style ="width:20px;height:20px;background-color:#00ff00">
		<input type='button' onclick = "color('#99ff99')" style ="width:20px;height:20px;background-color:#99ff99">
		<input type='button' onclick = "color('#f00000')" style ="width:20px;height:20px;background-color:#f00000">
		<input type='button' onclick = "color('#ff6600')" style ="width:20px;height:20px;background-color:#ff6600">
		<input type='button' onclick = "color('#ff9933')" style ="width:20px;height:20px;background-color:#ff9933">
		<input type='button' onclick = "color('#F5DEB3')" style ="width:20px;height:20px;background-color:#F5DEB3">
		<input type='button' onclick = "color('#FFFFFF')" style ="width:20px;height:20px;background-color:#FFFFFF">
		<input type='button' onclick = "color('#663300')" style ="width:20px;height:20px;background-color:#663300">
		<input type='button' onclick = "color('#cc6600')" style ="width:20px;height:20px;background-color:#cc6600">
		<input type='button' onclick = "color('#DEB887')" style ="width:20px;height:20px;background-color:#DEB887">
		<input type='button' onclick = "color('#aa0fff')" style ="width:20px;height:20px;background-color:#aa0fff">
		<input type='button' onclick = "color('#cc66cc')" style ="width:20px;height:20px;background-color:#cc66cc">
		<input type='button' onclick = "color('#ff66ff')" style ="width:20px;height:20px;background-color:#ff66ff">
		<input type='button' onclick = "color('#ff99ff')" style ="width:20px;height:20px;background-color:#ff99ff">
		<input id='fill' name='filling' type='radio' value='1'/> Fill
                 		
        <script>
var canvas= document.getElementById('canvas');
var context= canvas.getContext('2d');


reset=document.getElementById('reset');
line=document.getElementById('line');
rect=document.getElementById('rect');
circle=document.getElementById('circle');
pencile=document.getElementById('pencil');
fill=document.getElementById('fill');
stroke=document.getElementById('stroke');
width=document.getElementById('width');
erase=document.getElementById('erase');
var draw=0;

//function which set the color when we click the color_button
function color(value)
{
	context.fillStyle=value;
	context.strokeStyle=value;
}

//function for reseting
reset.onclick= function (e) 
{
	
	context.clearRect(0, 0, canvas.width, canvas.height);
};


//To draw a line
line.onclick= function (e) 
{
	
	draw=1;
	if (draw==1) 
	{
		canvas.onmousedown=function (e) 
		{
		img=context.getImageData(0,0,canvas.width,canvas.height); 
		start_x=e.x;
		start_y=e.y;
		drag=true;
		}
		canvas.onmousemove= function(e)
		{
			if(drag)
			{
			context.putImageData(img,0,0);
         		end_x=e.x;
		        end_y=e.y;
			context.lineWidth=width.value;
			context.beginPath();
			context.moveTo(start_x, start_y);
        		context.lineTo(end_x, end_y);
			context.stroke();
			context.closePath();
		}	}
		canvas.onmouseup= function(e)
                {
                drag=false;
                }


   	}
}


//Draw the rectangle
rect.onclick= function (e) 
{
	
	draw=2;
	if(draw==2) 
	{
		canvas.onmousedown= function(e) 
		{
		img=context.getImageData(0, 0, canvas.width, canvas.height);
		drag=true;
        	start_x=e.x;
        	start_y=e.y
        	}
		canvas.onmouseup = function(e) 
  		{
		drag=false;
		}
		canvas.onmousemove= function(e)
		{
			if(drag)
			{
			context.putImageData(img, 0, 0);
			end_x=e.x-start_x;
			end_y=e.y-start_y;
			context.lineWidth=width.value;
			context.strokeRect(start_x, start_y, end_x, end_y);
			if(f==1)
				{
				context.fillRect(start_x,start_y,end_x,end_y);
				}
			}	
		}
	}
}


//Draw the circle
circle.onclick= function(e)
{
	draw=3;
	if(draw==3)
	{
		canvas.onmousedown= function(e)
                {
                img=context.getImageData(0, 0, canvas.width, canvas.height);
                drag=true;
                start_x=e.x;
                start_y=e.y
                }
                canvas.onmouseup = function(e)
                {
                drag=false;
                }
		canvas.onmousemove= function(e)
                {
                        if(drag)
                        {
                        context.putImageData(img, 0, 0);
                        context.beginPath();
		      	end_x=e.x;
		        end_y=e.y;
		        dx=Math.abs(end_x-start_x);
		        dy=Math.abs(end_y-start_y);
		        midx=(start_x+end_x)/2;
		        midy=(start_y+end_y)/2;
		        radius=Math.sqrt(dx*dx + dy*dy)/2;      
			context.lineWidth=width.value;
		        context.arc(midx, midy, radius, 0, Math.PI*2, false);
		        context.stroke();
			if(f==1)
				{
				context.fill();
				}
                        }
                }
	}
}


//Draw using pencil
pencile.onclick= function (e)
{
        draw=4;
        if (draw==4)
        {
		canvas.onmousedown=function (e)
                {
                //img=context.getImageData(0,0,canvas.width,canvas.height);
                start_x=e.x;
                start_y=e.y;
                drag=true;
                }
                canvas.onmousemove= function(e)
                {
                        if(drag)
                        {
                        //context.putImageData(img,0,0);
                        end_x=e.x;
                        end_y=e.y;
			context.lineWidth=width.value;
                        context.beginPath();
			context.moveTo(start_x, start_y);
                        context.lineTo(end_x, end_y);
                        context.stroke();
                        context.closePath();
			start_x=end_x;
			start_y=end_y;
                }       }
                canvas.onmouseup= function(e)
                {
                drag=false;
                }
        }
}


//Erase after drawing
erase.onclick= function (e)
{

        draw=5;
        if(draw==5)
        {
		canvas.onmousedown= function (e)
                        {drag=true;}
                canvas.onmouseup= function (e)
                        {drag=false;}
                
                canvas.onmousemove= function(e)
                {
			if(drag)
			{
                        //x=width.value;
                        context.clearRect(e.x, e.y, 20, 20);
                        }
                }
        }
}


fill.onclick= function (e)
{
	f=1;

}

stroke.onclick= function (e)
{
	f=0;

}

</script>
	</body>
</html>
